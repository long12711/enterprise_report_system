# æ ¹æ®é—®å·æ ¼å¼é…ç½®æŠ¥å‘Šæ¨¡æ¿

## ğŸ“‹ æ¦‚è¿°

æŠ¥å‘Šæ¨¡æ¿çš„ç»“æ„åº”è¯¥ä¸é—®å·çš„æ ¼å¼ä¿æŒä¸€è‡´ï¼Œç¡®ä¿é—®å·ä¸­çš„æ•°æ®èƒ½å¤Ÿå‡†ç¡®æ˜ å°„åˆ°æŠ¥å‘Šçš„å„ä¸ªç« èŠ‚ã€‚

---

## ğŸ”— é—®å·æ ¼å¼ä¸æŠ¥å‘Šæ¨¡æ¿çš„å¯¹åº”å…³ç³»

### 1. é—®å·Excelç»“æ„

```
é—®å·Excelæ–‡ä»¶
â”œâ”€â”€ Sheet 1: ä¼ä¸šä¿¡æ¯
â”‚   â”œâ”€â”€ ä¼ä¸šåç§°
â”‚   â”œâ”€â”€ ç»Ÿä¸€ç¤¾ä¼šä¿¡ç”¨ä»£ç 
â”‚   â”œâ”€â”€ ä¼ä¸šç±»å‹
â”‚   â”œâ”€â”€ æ‰€å±è¡Œä¸š
â”‚   â”œâ”€â”€ æ³¨å†Œèµ„æœ¬ï¼ˆä¸‡å…ƒï¼‰
â”‚   â”œâ”€â”€ æˆç«‹æ—¶é—´
â”‚   â”œâ”€â”€ å‘˜å·¥äººæ•°
â”‚   â”œâ”€â”€ å¹´è¥ä¸šæ”¶å…¥ï¼ˆä¸‡å…ƒï¼‰
â”‚   â””â”€â”€ è”ç³»äººä¿¡æ¯
â”‚
â””â”€â”€ Sheet 2: é—®å·
    â”œâ”€â”€ åºå·
    â”œâ”€â”€ ä¸€çº§æŒ‡æ ‡ï¼ˆç»´åº¦ï¼‰
    â”œâ”€â”€ äºŒçº§æŒ‡æ ‡
    â”œâ”€â”€ ä¸‰çº§æŒ‡æ ‡ï¼ˆé—®é¢˜ï¼‰
    â”œâ”€â”€ æŒ‡æ ‡ç±»å‹
    â”œâ”€â”€ åˆ†å€¼
    â”œâ”€â”€ é€‚ç”¨å¯¹è±¡
    â”œâ”€â”€ ç­”æ¡ˆ
    â””â”€â”€ å¤‡æ³¨è¯´æ˜
```

### 2. æŠ¥å‘Šæ¨¡æ¿ç»“æ„ï¼ˆå¯¹åº”é—®å·ï¼‰

```
æŠ¥å‘Šæ¨¡æ¿
â”œâ”€â”€ å°é¢
â”‚   â””â”€â”€ æ¥æºï¼šä¼ä¸šä¿¡æ¯è¡¨
â”‚       â”œâ”€â”€ ä¼ä¸šåç§°
â”‚       â”œâ”€â”€ ä¼ä¸šç±»å‹
â”‚       â”œâ”€â”€ æ‰€å±è¡Œä¸š
â”‚       â””â”€â”€ è¯„ä»·æ—¶é—´
â”‚
â”œâ”€â”€ ç¬¬ä¸€ç« ï¼šæ‰§è¡Œæ‘˜è¦
â”‚   â””â”€â”€ æ¥æºï¼šè®¡ç®—ç»“æœ + ä¼ä¸šä¿¡æ¯
â”‚       â”œâ”€â”€ è¯„ä»·ç»“è®ºï¼ˆæ ¹æ®å¾—åˆ†ç‡è®¡ç®—ï¼‰
â”‚       â”œâ”€â”€ æ€»å¾—åˆ†/æ»¡åˆ†ï¼ˆé—®å·è¡¨æ±‡æ€»ï¼‰
â”‚       â”œâ”€â”€ ä¼ä¸šæ¦‚å†µï¼ˆä¼ä¸šä¿¡æ¯è¡¨ï¼‰
â”‚       â”œâ”€â”€ è¯„ä»·äº®ç‚¹ï¼ˆæ ¹æ®é«˜åˆ†ç»´åº¦ç”Ÿæˆï¼‰
â”‚       â””â”€â”€ å­˜åœ¨é—®é¢˜ï¼ˆæ ¹æ®ä½åˆ†ç»´åº¦ç”Ÿæˆï¼‰
â”‚
â”œâ”€â”€ ç¬¬äºŒç« ï¼šä¼ä¸šåŸºæœ¬æƒ…å†µ
â”‚   â””â”€â”€ æ¥æºï¼šä¼ä¸šä¿¡æ¯è¡¨
â”‚       â””â”€â”€ ç›´æ¥æ˜ å°„æ‰€æœ‰ä¼ä¸šä¿¡æ¯å­—æ®µ
â”‚
â”œâ”€â”€ ç¬¬ä¸‰ç« ï¼šè¯„ä»·æ¦‚è§ˆ
â”‚   â””â”€â”€ æ¥æºï¼šé—®å·è¡¨è®¡ç®—ç»“æœ
â”‚       â”œâ”€â”€ è‡ªè¯„æ€»åˆ†ï¼ˆé—®å·è¡¨"ç­”æ¡ˆ"åˆ—è®¡ç®—ï¼‰
â”‚       â”œâ”€â”€ è¯„ä»·æ»¡åˆ†ï¼ˆé—®å·è¡¨"åˆ†å€¼"åˆ—æ±‡æ€»ï¼‰
â”‚       â”œâ”€â”€ å®Œæˆåº¦ï¼ˆæ€»åˆ†/æ»¡åˆ†ï¼‰
â”‚       â””â”€â”€ è¯„ä»·ç­‰çº§ï¼ˆæ ¹æ®å®Œæˆåº¦åˆ¤å®šï¼‰
â”‚
â”œâ”€â”€ ç¬¬å››ç« ï¼šç»´åº¦åˆ†æ
â”‚   â””â”€â”€ æ¥æºï¼šé—®å·è¡¨"ä¸€çº§æŒ‡æ ‡"åˆ†ç»„ç»Ÿè®¡
â”‚       â””â”€â”€ æ¯ä¸ªä¸€çº§æŒ‡æ ‡ï¼š
â”‚           â”œâ”€â”€ å¾—åˆ†ï¼ˆè¯¥ç»´åº¦æ‰€æœ‰é¢˜ç›®å¾—åˆ†æ±‡æ€»ï¼‰
â”‚           â”œâ”€â”€ æ»¡åˆ†ï¼ˆè¯¥ç»´åº¦æ‰€æœ‰é¢˜ç›®åˆ†å€¼æ±‡æ€»ï¼‰
â”‚           â”œâ”€â”€ å®Œæˆç‡ï¼ˆå¾—åˆ†/æ»¡åˆ†ï¼‰
â”‚           â””â”€â”€ ç­‰çº§è¯„ä»·ï¼ˆæ ¹æ®å®Œæˆç‡åˆ¤å®šï¼‰
â”‚
â”œâ”€â”€ ç¬¬äº”ç« ï¼šè¯¦ç»†è¯„ä»·ç»“æœ
â”‚   â””â”€â”€ æ¥æºï¼šé—®å·è¡¨é€è¡Œå±•ç¤º
â”‚       â””â”€â”€ æ¯é“é¢˜ç›®ï¼š
â”‚           â”œâ”€â”€ ä¸€çº§æŒ‡æ ‡
â”‚           â”œâ”€â”€ äºŒçº§æŒ‡æ ‡
â”‚           â”œâ”€â”€ ä¸‰çº§æŒ‡æ ‡ï¼ˆé—®é¢˜ï¼‰
â”‚           â”œâ”€â”€ åˆ†å€¼
â”‚           â”œâ”€â”€ è‡ªè¯„åˆ†ï¼ˆæ ¹æ®ç­”æ¡ˆè®¡ç®—ï¼‰
â”‚           â””â”€â”€ å®Œæˆç‡
â”‚
â”œâ”€â”€ ç¬¬å…­ç« ï¼šé£é™©è¯„ä¼°
â”‚   â””â”€â”€ æ¥æºï¼šé—®å·è¡¨ç‰¹å®šæŒ‡æ ‡ç±»å‹
â”‚       â””â”€â”€ æ ¹æ®"æŒ‡æ ‡ç±»å‹"ç­›é€‰ï¼š
â”‚           â”œâ”€â”€ ä¸€ç¥¨å¦å†³ç±» â†’ æ²»ç†é£é™©
â”‚           â”œâ”€â”€ åˆè§„ç±» â†’ åˆè§„é£é™©
â”‚           â”œâ”€â”€ å†…æ§ç±» â†’ è¿è¥é£é™©
â”‚           â””â”€â”€ è´¢åŠ¡ç±» â†’ è´¢åŠ¡é£é™©
â”‚
â”œâ”€â”€ ç¬¬ä¸ƒç« ï¼šæ”¹è¿›è·¯å¾„è§„åˆ’
â”‚   â””â”€â”€ æ¥æºï¼šä½åˆ†ç»´åº¦ï¼ˆä¸€çº§æŒ‡æ ‡ï¼‰
â”‚       â””â”€â”€ é’ˆå¯¹å¾—åˆ†ç‡<70%çš„ç»´åº¦ï¼š
â”‚           â”œâ”€â”€ è¯†åˆ«è–„å¼±ç¯èŠ‚
â”‚           â”œâ”€â”€ ç”Ÿæˆæ”¹è¿›å»ºè®®
â”‚           â””â”€â”€ åˆ¶å®šæ”¹è¿›è®¡åˆ’
â”‚
â”œâ”€â”€ ç¬¬å…«ç« ï¼šåˆè§„æ€§æ£€æŸ¥æ¸…å•
â”‚   â””â”€â”€ æ¥æºï¼šé—®å·è¡¨"æŒ‡æ ‡ç±»å‹"ä¸º"åˆè§„"çš„é¢˜ç›®
â”‚       â””â”€â”€ æ¯ä¸ªåˆè§„é¡¹ï¼š
â”‚           â”œâ”€â”€ æ£€æŸ¥é¡¹ç›®ï¼ˆä¸‰çº§æŒ‡æ ‡ï¼‰
â”‚           â”œâ”€â”€ è¦æ±‚æè¿°ï¼ˆé—®é¢˜å†…å®¹ï¼‰
â”‚           â”œâ”€â”€ å½“å‰çŠ¶æ€ï¼ˆç­”æ¡ˆï¼‰
â”‚           â””â”€â”€ æ”¹è¿›å»ºè®®ï¼ˆæ ¹æ®ç­”æ¡ˆç”Ÿæˆï¼‰
â”‚
â””â”€â”€ ç¬¬ä¹ç« ï¼šæŠ¥å‘Šè¯´æ˜
    â””â”€â”€ å›ºå®šå†…å®¹ + åŠ¨æ€ä¿¡æ¯
        â”œâ”€â”€ æŠ¥å‘Šç”Ÿæˆæ—¶é—´
        â”œâ”€â”€ ä¼ä¸šè”ç³»äººï¼ˆä¼ä¸šä¿¡æ¯è¡¨ï¼‰
        â””â”€â”€ æŠ¥å‘Šçº§åˆ«ï¼ˆæ ¹æ®å¾—åˆ†ç‡åˆ¤å®šï¼‰
```

---

## ğŸ”§ é…ç½®æ–¹æ³•

### 1. å®šä¹‰é—®å·å­—æ®µæ˜ å°„

```python
# config/questionnaire_mapping.py

ENTERPRISE_INFO_MAPPING = {
    # é—®å·å­—æ®µ -> æŠ¥å‘Šå­—æ®µ
    'ä¼ä¸šåç§°': 'enterprise_name',
    'ç»Ÿä¸€ç¤¾ä¼šä¿¡ç”¨ä»£ç ': 'credit_code',
    'ä¼ä¸šç±»å‹': 'enterprise_type',
    'æ‰€å±è¡Œä¸š': 'industry',
    'æ³¨å†Œèµ„æœ¬ï¼ˆä¸‡å…ƒï¼‰': 'registered_capital',
    'æˆç«‹æ—¶é—´': 'establishment_date',
    'å‘˜å·¥äººæ•°': 'employee_count',
    'å¹´è¥ä¸šæ”¶å…¥ï¼ˆä¸‡å…ƒï¼‰': 'annual_revenue',
    'è”ç³»äººå§“å': 'contact_name',
    'è”ç³»äººé‚®ç®±': 'contact_email',
    'è”ç³»äººæ‰‹æœº': 'contact_phone'
}

QUESTIONNAIRE_COLUMNS = {
    'åºå·': 'seq_no',
    'ä¸€çº§æŒ‡æ ‡': 'level1',
    'äºŒçº§æŒ‡æ ‡': 'level2',
    'ä¸‰çº§æŒ‡æ ‡ï¼ˆé—®é¢˜ï¼‰': 'question',
    'æŒ‡æ ‡ç±»å‹': 'indicator_type',
    'åˆ†å€¼': 'base_score',
    'é€‚ç”¨å¯¹è±¡': 'applicable',
    'ç­”æ¡ˆ': 'answer',
    'å¤‡æ³¨è¯´æ˜': 'remark'
}
```

### 2. å®šä¹‰ç»´åº¦é…ç½®

```python
# config/dimension_config.py

DIMENSION_CONFIG = {
    'å…šå»ºå¼•é¢†': {
        'order': 1,
        'description': 'å…šç»„ç»‡å»ºè®¾å’Œå…šå»ºå·¥ä½œ',
        'risk_type': 'æ²»ç†é£é™©',
        'recommendation_template': 'å¥å…¨å…šå»ºå·¥ä½œåˆ¶åº¦ï¼ŒåŠ å¼ºå…šç»„ç»‡å»ºè®¾...'
    },
    'äº§æƒç»“æ„': {
        'order': 2,
        'description': 'äº§æƒå…³ç³»å’Œè‚¡æƒç»“æ„',
        'risk_type': 'æ²»ç†é£é™©',
        'recommendation_template': 'è¿›ä¸€æ­¥æ˜æ™°äº§æƒå…³ç³»ï¼Œè§„èŒƒè‚¡æƒç®¡ç†...'
    },
    'å…¬å¸æ²»ç†ç»“æ„å’Œæœºåˆ¶': {
        'order': 3,
        'description': 'å…¬å¸æ²»ç†æ¶æ„å’Œè¿ä½œæœºåˆ¶',
        'risk_type': 'æ²»ç†é£é™©',
        'recommendation_template': 'å®Œå–„å…¬å¸æ²»ç†ç»“æ„ï¼Œè§„èŒƒä¸‰ä¼šä¸€å±‚è¿ä½œ...'
    },
    'æˆ˜ç•¥ç®¡ç†': {
        'order': 4,
        'description': 'æˆ˜ç•¥è§„åˆ’å’Œæ‰§è¡Œ',
        'risk_type': 'è¿è¥é£é™©',
        'recommendation_template': 'åŠ å¼ºæˆ˜ç•¥è§„åˆ’å·¥ä½œï¼Œå»ºç«‹å¥å…¨æˆ˜ç•¥ç®¡ç†ä½“ç³»...'
    },
    'å†…æ§ã€é£é™©ä¸åˆè§„ç®¡ç†': {
        'order': 5,
        'description': 'å†…éƒ¨æ§åˆ¶å’Œé£é™©ç®¡ç†',
        'risk_type': 'åˆè§„é£é™©',
        'recommendation_template': 'å¼ºåŒ–å†…éƒ¨æ§åˆ¶å»ºè®¾ï¼Œå®Œå–„é£é™©ç®¡ç†ä½“ç³»...'
    },
    'ç§‘å­¦æ°‘ä¸»ç®¡ç†': {
        'order': 6,
        'description': 'æ°‘ä¸»ç®¡ç†å’ŒèŒå·¥å‚ä¸',
        'risk_type': 'è¿è¥é£é™©',
        'recommendation_template': 'æ·±åŒ–æ°‘ä¸»ç®¡ç†ï¼Œç•…é€šèŒå·¥å‚ä¸æ¸ é“...'
    },
    'ç§‘æŠ€åˆ›æ–°': {
        'order': 7,
        'description': 'ç ”å‘æŠ•å…¥å’Œåˆ›æ–°èƒ½åŠ›',
        'risk_type': 'è¿è¥é£é™©',
        'recommendation_template': 'åŠ å¤§ç ”å‘æŠ•å…¥ï¼Œå®Œå–„åˆ›æ–°ä½“ç³»...'
    },
    'ç¤¾ä¼šè´£ä»»ä¸ä¼ä¸šæ–‡åŒ–': {
        'order': 8,
        'description': 'ç¤¾ä¼šè´£ä»»å’Œæ–‡åŒ–å»ºè®¾',
        'risk_type': 'å£°èª‰é£é™©',
        'recommendation_template': 'åŠ å¼ºä¼ä¸šæ–‡åŒ–å»ºè®¾ï¼Œç§¯æå±¥è¡Œç¤¾ä¼šè´£ä»»...'
    },
    'å®¶æ—ä¼ä¸šæ²»ç†': {
        'order': 9,
        'description': 'å®¶æ—ä¼ä¸šç‰¹æ®Šæ²»ç†',
        'risk_type': 'æ²»ç†é£é™©',
        'recommendation_template': 'å®Œå–„å®¶æ—ä¼ä¸šæ²»ç†æœºåˆ¶ï¼Œç†é¡ºå®¶æ—æˆå‘˜å…³ç³»...'
    }
}
```

### 3. å®šä¹‰æŒ‡æ ‡ç±»å‹é…ç½®

```python
# config/indicator_type_config.py

INDICATOR_TYPE_CONFIG = {
    'ä¸€ç¥¨å¦å†³': {
        'scoring_rule': 'veto',  # ç­”"å¦"æ‰£åˆ†
        'risk_level': 'high',
        'risk_category': 'æ²»ç†é£é™©'
    },
    'åˆè§„ç±»': {
        'scoring_rule': 'compliance',  # ç­”"æ˜¯"å¾—åˆ†
        'risk_level': 'medium',
        'risk_category': 'åˆè§„é£é™©'
    },
    'æœ‰æ•ˆæ€§ç±»': {
        'scoring_rule': 'effectiveness',  # æŒ‰æœ‰æ•ˆæ€§ç­‰çº§æ‰“åˆ†
        'risk_level': 'low',
        'risk_category': 'è¿è¥é£é™©'
    },
    'æ¸…å•ç±»': {
        'scoring_rule': 'checklist',  # æŒ‰å®Œæˆæ¯”ä¾‹æ‰“åˆ†
        'risk_level': 'low',
        'risk_category': 'è¿è¥é£é™©'
    }
}
```

### 4. å®šä¹‰æŠ¥å‘Šç« èŠ‚é…ç½®

```python
# config/report_template_config.py

REPORT_CHAPTERS = [
    {
        'chapter_no': 1,
        'title': 'æ‰§è¡Œæ‘˜è¦',
        'data_source': ['enterprise_info', 'score_summary'],
        'sections': [
            {'name': 'è¯„ä»·ç»“è®º', 'generator': 'generate_conclusion'},
            {'name': 'æ€»å¾—åˆ†', 'generator': 'generate_total_score'},
            {'name': 'ä¼ä¸šæ¦‚å†µ', 'generator': 'generate_overview'},
            {'name': 'è¯„ä»·äº®ç‚¹', 'generator': 'generate_highlights'},
            {'name': 'å­˜åœ¨é—®é¢˜', 'generator': 'generate_issues'}
        ]
    },
    {
        'chapter_no': 2,
        'title': 'ä¼ä¸šåŸºæœ¬æƒ…å†µ',
        'data_source': ['enterprise_info'],
        'sections': [
            {'name': 'åŸºæœ¬ä¿¡æ¯è¡¨', 'generator': 'generate_info_table'}
        ]
    },
    {
        'chapter_no': 3,
        'title': 'è¯„ä»·æ¦‚è§ˆä¸å›¾è¡¨åˆ†æ',
        'data_source': ['score_summary'],
        'sections': [
            {'name': 'è¯„ä»·æ¦‚è§ˆè¡¨', 'generator': 'generate_overview_table'},
            {'name': 'å›¾è¡¨åˆ†æ', 'generator': 'generate_charts'}
        ]
    },
    {
        'chapter_no': 4,
        'title': 'ç»´åº¦åˆ†æ',
        'data_source': ['score_by_level1'],
        'sections': [
            {'name': 'å„ç»´åº¦å¾—åˆ†åˆ†æ', 'generator': 'generate_dimension_analysis'}
        ]
    },
    {
        'chapter_no': 5,
        'title': 'è¯¦ç»†è¯„ä»·ç»“æœ',
        'data_source': ['question_details'],
        'sections': [
            {'name': 'è¯¦ç»†è¯„ä»·è¡¨', 'generator': 'generate_detail_table'}
        ]
    },
    {
        'chapter_no': 6,
        'title': 'é£é™©è¯„ä¼°ä¸é¢„è­¦',
        'data_source': ['score_summary', 'question_details'],
        'sections': [
            {'name': 'é£é™©ç­‰çº§è¯„ä¼°', 'generator': 'generate_risk_assessment'}
        ]
    },
    {
        'chapter_no': 7,
        'title': 'æ”¹è¿›è·¯å¾„è§„åˆ’',
        'data_source': ['score_by_level1'],
        'sections': [
            {'name': 'çŸ­æœŸæ”¹è¿›è®¡åˆ’', 'generator': 'generate_short_term_plan'},
            {'name': 'ä¸­æœŸå‘å±•è§„åˆ’', 'generator': 'generate_mid_term_plan'}
        ]
    },
    {
        'chapter_no': 8,
        'title': 'åˆè§„æ€§æ£€æŸ¥æ¸…å•',
        'data_source': ['question_details'],
        'sections': [
            {'name': 'åˆè§„æ€§æ£€æŸ¥è¡¨', 'generator': 'generate_compliance_checklist'}
        ]
    },
    {
        'chapter_no': 9,
        'title': 'æŠ¥å‘Šè¯´æ˜ä¸é™„å½•',
        'data_source': ['enterprise_info', 'metadata'],
        'sections': [
            {'name': 'æŠ¥å‘Šè¯´æ˜', 'generator': 'generate_report_notes'}
        ]
    }
]
```

---

## ğŸ“Š å®é™…åº”ç”¨ç¤ºä¾‹

### ç¤ºä¾‹1ï¼šæ ¹æ®é—®å·ä¸€çº§æŒ‡æ ‡ç”Ÿæˆç»´åº¦åˆ†æ

```python
# é—®å·ä¸­çš„ä¸€çº§æŒ‡æ ‡
questionnaire_level1 = [
    'å…šå»ºå¼•é¢†',
    'äº§æƒç»“æ„',
    'å…¬å¸æ²»ç†ç»“æ„å’Œæœºåˆ¶',
    'æˆ˜ç•¥ç®¡ç†',
    'å†…æ§ã€é£é™©ä¸åˆè§„ç®¡ç†',
    'ç§‘å­¦æ°‘ä¸»ç®¡ç†',
    'ç§‘æŠ€åˆ›æ–°',
    'ç¤¾ä¼šè´£ä»»ä¸ä¼ä¸šæ–‡åŒ–',
    'å®¶æ—ä¼ä¸šæ²»ç†'
]

# è‡ªåŠ¨ç”ŸæˆæŠ¥å‘Šçš„ç»´åº¦åˆ†æç« èŠ‚
for dimension in questionnaire_level1:
    config = DIMENSION_CONFIG.get(dimension)
    if config:
        # ç”Ÿæˆè¯¥ç»´åº¦çš„åˆ†æå†…å®¹
        generate_dimension_section(
            dimension_name=dimension,
            order=config['order'],
            description=config['description'],
            score_data=score_by_level1[dimension]
        )
```

### ç¤ºä¾‹2ï¼šæ ¹æ®æŒ‡æ ‡ç±»å‹ç”Ÿæˆé£é™©è¯„ä¼°

```python
# ä»é—®å·ä¸­æå–ä¸åŒç±»å‹çš„æŒ‡æ ‡
for question in question_details:
    indicator_type = question['indicator_type']
    type_config = INDICATOR_TYPE_CONFIG.get(indicator_type)
    
    if type_config:
        # æ ¹æ®æŒ‡æ ‡ç±»å‹å½’ç±»é£é™©
        risk_category = type_config['risk_category']
        risk_level = type_config['risk_level']
        
        # æ·»åŠ åˆ°å¯¹åº”çš„é£é™©ç±»åˆ«
        add_to_risk_assessment(
            category=risk_category,
            level=risk_level,
            question=question
        )
```

### ç¤ºä¾‹3ï¼šæ ¹æ®é—®å·ç»“æ„åŠ¨æ€è°ƒæ•´æŠ¥å‘Š

```python
# æ£€æŸ¥é—®å·ä¸­æ˜¯å¦åŒ…å«æŸä¸ªç»´åº¦
if 'å®¶æ—ä¼ä¸šæ²»ç†' in questionnaire_level1:
    # åŒ…å«è¯¥ç»´åº¦ï¼Œç”Ÿæˆç›¸åº”ç« èŠ‚
    generate_family_governance_section()
else:
    # ä¸åŒ…å«è¯¥ç»´åº¦ï¼Œè·³è¿‡è¯¥ç« èŠ‚
    skip_section('å®¶æ—ä¼ä¸šæ²»ç†')
```

---

## âœ… é…ç½®ä¼˜åŠ¿

### 1. çµæ´»æ€§
- âœ… é—®å·ç»“æ„å˜åŒ–æ—¶ï¼Œåªéœ€ä¿®æ”¹é…ç½®æ–‡ä»¶
- âœ… æ— éœ€ä¿®æ”¹æ ¸å¿ƒä»£ç 
- âœ… æ”¯æŒä¸åŒç‰ˆæœ¬çš„é—®å·

### 2. å¯ç»´æŠ¤æ€§
- âœ… é…ç½®é›†ä¸­ç®¡ç†
- âœ… æ¸…æ™°çš„æ˜ å°„å…³ç³»
- âœ… æ˜“äºç†è§£å’Œä¿®æ”¹

### 3. å¯æ‰©å±•æ€§
- âœ… è½»æ¾æ·»åŠ æ–°ç»´åº¦
- âœ… æ”¯æŒè‡ªå®šä¹‰æŒ‡æ ‡ç±»å‹
- âœ… å¯é…ç½®æŠ¥å‘Šç« èŠ‚

### 4. ä¸€è‡´æ€§
- âœ… é—®å·ä¸æŠ¥å‘Šç»“æ„ä¸€è‡´
- âœ… æ•°æ®æ˜ å°„å‡†ç¡®
- âœ… é¿å…é—æ¼æˆ–é”™ä½

---

## ğŸ¯ æœ€ä½³å®è·µ

### 1. ç‰ˆæœ¬ç®¡ç†
```python
QUESTIONNAIRE_VERSION = 'v2.0'
REPORT_TEMPLATE_VERSION = 'v2.0'

# ç¡®ä¿ç‰ˆæœ¬åŒ¹é…
assert QUESTIONNAIRE_VERSION == REPORT_TEMPLATE_VERSION
```

### 2. å­—æ®µéªŒè¯
```python
def validate_questionnaire_structure(df):
    """éªŒè¯é—®å·ç»“æ„æ˜¯å¦ç¬¦åˆé…ç½®"""
    required_columns = list(QUESTIONNAIRE_COLUMNS.keys())
    missing_columns = [col for col in required_columns if col not in df.columns]
    
    if missing_columns:
        raise ValueError(f"é—®å·ç¼ºå°‘å¿…éœ€åˆ—: {missing_columns}")
```

### 3. åŠ¨æ€ç« èŠ‚ç”Ÿæˆ
```python
def generate_report_chapters(questionnaire_data):
    """æ ¹æ®é—®å·æ•°æ®åŠ¨æ€ç”ŸæˆæŠ¥å‘Šç« èŠ‚"""
    chapters = []
    
    for chapter_config in REPORT_CHAPTERS:
        # æ£€æŸ¥æ•°æ®æºæ˜¯å¦å¯ç”¨
        if all(has_data(source) for source in chapter_config['data_source']):
            chapters.append(generate_chapter(chapter_config))
    
    return chapters
```

---

## ğŸ“ æ€»ç»“

é€šè¿‡é…ç½®æ–‡ä»¶ç®¡ç†é—®å·æ ¼å¼ä¸æŠ¥å‘Šæ¨¡æ¿çš„å¯¹åº”å…³ç³»ï¼Œå¯ä»¥å®ç°ï¼š

1. **é—®å·é©±åŠ¨æŠ¥å‘Š**ï¼šæŠ¥å‘Šç»“æ„å®Œå…¨ç”±é—®å·æ ¼å¼å†³å®š
2. **çµæ´»é…ç½®**ï¼šé—®å·å˜åŒ–æ—¶åªéœ€ä¿®æ”¹é…ç½®
3. **è‡ªåŠ¨æ˜ å°„**ï¼šæ•°æ®è‡ªåŠ¨ä»é—®å·æ˜ å°„åˆ°æŠ¥å‘Š
4. **åŠ¨æ€ç”Ÿæˆ**ï¼šæ ¹æ®å®é™…æ•°æ®åŠ¨æ€è°ƒæ•´æŠ¥å‘Šå†…å®¹

è¿™ç§è®¾è®¡ç¡®ä¿äº†é—®å·ä¸æŠ¥å‘Šçš„ä¸€è‡´æ€§ï¼Œæé«˜äº†ç³»ç»Ÿçš„å¯ç»´æŠ¤æ€§å’Œå¯æ‰©å±•æ€§ã€‚