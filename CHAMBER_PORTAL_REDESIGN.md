# 工商联门户左侧框架重新设计

## 概述
已成功重新组织工商联门户的左侧导航框架，将现有的5个功能菜单项进行分类整理到6个主要管理模块中，并添加了悬浮窗口显示二级菜单的功能。

## 新的菜单结构

### 1. 企业管理
- **资质审核**
  - 企业资质审核：根据企业问卷得分与指标，判断是否符合升级条件
  - 支持按审核级别筛选
  - 支持批准升级和手动晋级操作

### 2. 专家管理
- **专家辅导记录**
  - 辅导记录查看：查看专家与企业之间的沟通记录
  - 显示专家、企业、消息内容和时间

### 3. 工商联用户管理
- **用户管理**
  - 工商联用户列表：管理工商联系统的用户账户和权限
  - 支持编辑和删除用户
  - 显示用户名、邮箱、角色、审核级别等信息

### 4. 专项反馈管理
- **专项申请审核**
  - 专项申请审核：审核企业提交的专项申请
  - 支持查看附件
  - 支持通过/驳回操作
  - 支持添加备注

### 5. 基础问卷管理
- **问卷管理**
  - 问卷配置：管理和配置系统中的基础问卷
  - 支持创建、编辑、预览和删除问卷
  - 显示问卷名称、问题数量、创建时间和状态

### 6. 平台基础功能管理
- **报告管理**
  - 查看企业报告：查看系统内已生成的所有企业评估报告
  - 发送报告：选择一份报告并将其通过邮件发送给指定收件人

## 技术实现

### 前端改动

#### CSS 样式增强
- 添加了 `.menu-group` 和 `.menu-group-title` 样式用于分组显示
- 添加了 `.submenu-tooltip` 样式用于悬浮窗口效果
- 添加了 `.submenu-item` 样式用于二级菜单项
- 添加了 `.menu-arrow` 样式用于显示箭头指示符

#### HTML 结构
- 将菜单项组织成 `.menu-group` 分组
- 每个分组有 `.menu-group-title` 标题
- 每个菜单项包含一个 `.submenu-tooltip` 悬浮窗口
- 悬浮窗口中包含多个 `.submenu-item` 二级菜单项

#### JavaScript 功能
- 更新了 `switchTab()` 函数以支持新的标签页
- 添加了 `loadChamberUsers()` 函数用于加载工商联用户
- 添加了 `loadQuestionnaires()` 函数用于加载问卷列表
- 改进了菜单按钮的事件处理逻辑

### 交互体验

#### 悬浮窗口效果
- 鼠标悬停在菜单项上时，会在右侧显示二级菜单窗口
- 二级菜单窗口包含该菜单项的所有子功能
- 点击二级菜单项会切换到对应的标签页

#### 菜单导航
- 菜单项按功能模块分组显示
- 每个分组有清晰的标题标签
- 当前活跃的菜单项会高亮显示
- 菜单项右侧显示箭头指示符，表示有二级菜单

## 新增功能

### 工商联用户管理
- 显示所有工商联用户的列表
- 支持编辑和删除用户
- 支持添加新用户（功能占位符）

### 基础问卷管理
- 显示所有问卷的列表
- 支持创建、编辑、预览和删除问卷
- 显示问卷的详细信息

## 后端 API 需求

为了完全实现新功能，需要在后端添加以下 API 端点：

```
GET /api/portal/chamber/users - 获取工商联用户列表
GET /api/portal/chamber/questionnaires - 获取问卷列表
```

这些 API 应返回以下格式的数据：

### 用户列表 API
```json
{
  "success": true,
  "users": [
    {
      "username": "user1",
      "email": "user1@example.com",
      "role": "admin",
      "review_level": "高级",
      "created_time": "2024-01-01"
    }
  ]
}
```

### 问卷列表 API
```json
{
  "success": true,
  "questionnaires": [
    {
      "name": "问卷1",
      "question_count": 10,
      "created_time": "2024-01-01",
      "status": "启用"
    }
  ]
}
```

## 文件修改

- `templates/portal_chamber.html` - 完全重新设计的菜单结构和样式

## 使用说明

1. **访问菜单项**：点击左侧菜单中的任何菜单项
2. **查看二级菜单**：将鼠标悬停在菜单项上，右侧会显示二级菜单窗口
3. **切换功能**：点击二级菜单中的任何项目，会切换到对应的功能页面
4. **返回菜单**：点击左侧的任何菜单项都可以快速切换功能

## 浏览器兼容性

- Chrome/Edge 90+
- Firefox 88+
- Safari 14+

## 后续优化建议

1. 添加菜单项的图标显示
2. 支持菜单的折叠/展开功能
3. 添加菜单搜索功能
4. 支持菜单项的拖拽排序
5. 添加菜单项的权限控制
6. 实现菜单的响应式设计（移动设备支持）

